# =============================================================================
# Discord Bot General Settings
# =============================================================================
bot_token: YOUR_BOT_TOKEN_HERE # Discord Developer Portalで取得したBotのトークン
client_id: YOUR_CLIENT_ID_HERE # BotのクライアントID (招待URL生成などに使用)
prefix: "!!" # メッセージコマンドのプレフィックス [廃止] 特権インテント回避のため、この設定は現在使用されません
status_message: "on {guild_count} servers" # Botのステータスメッセージ
allowed_channel_ids: [] # Botが反応するチャンネルIDのリスト (空の場合は全チャンネルで反応)
# allowed_role_ids: []  # [廃止] 特権インテント回避のため、この設定は現在使用されません
admin_user_ids: []    # Botの管理者ユーザーIDのリスト (将来的な管理者用コマンドのため)
bot_invite_url: https://discord.com/oauth2/authorize?client_id=1031673203774464160&permissions=551906765824&scope=bot
log_channel_ids:
 - 100000000000000000 # メインログチャンネル
 - 200000000000000000 # サブ

# =============================================================================
# Enabled Cogs (読み込む機能を指定します)
# =============================================================================
enabled_cogs:
  - llm_cog
  - music_cog
  - slash_command_cog
  - image_commands_cog
  - akinator_cog
  - ytdlp_downloader_cog

# =============================================================================
# LLM Cog Settings (AIとの対話機能に関する設定)
# =============================================================================
llm:
  # --- モデル設定 ---
  # デフォルトで使用するモデル
  model: "mistral/mistral-medium-latest"

  # /switch-model コマンドで選択肢として表示するモデルのリスト
  available_models:
    # --- Official OpenAI ---
    - "openai/gpt-4o"
    - "openai/gpt-4-turbo"

    # --- NVIDIA NIM ---
    - "nvidia_nim/moonshotai/kimi-k2-instruct"
    - "nvidia_nim/meta/llama-3.3-70b-instruct"
    - "nvidia_nim/meta/llama-4-maverick-17b-128e-instruct"
    - "nvidia_nim/deepseek-ai/deepseek-r1"

    # --- Google OpenAI-Compatible Proxy ---
    - "google/gemini-2.5-flash"

    # --- Other Providers ---
    - "mistral/mistral-medium-latest"

  # チャンネルごとに設定されたモデルを保存する場所 (Botが自動で更新します)
  channel_models: {}

  # --- APIプロバイダー設定 ---
  providers:
    # (1) 公式OpenAI用の設定
    openai:
      base_url: https://api.openai.com/v1
      api_key: key

    # (2) NVIDIA NIM用の設定
    nvidia_nim:
      base_url: https://integrate.api.nvidia.com/v1
      api_key: key

    # (3) Google OpenAI互換
    google:
      base_url: https://generativelanguage.googleapis.com/v1beta/
      api_key: key

    # (4) その他のプロバイダー
    mistral:
      base_url: https://api.mistral.ai/v1
      api_key: key
    groq:
      base_url: https://api.groq.com/openai/v1
      api_key: YOUR_GROQ_API_KEY_HERE

  # --- パラメータ設定 ---
  extra_api_parameters:
    max_tokens: 4096 # 1回の応答で生成する最大トークン数
    temperature: 0.4 # 生成されるテキストの多様性 (0.0-2.0)

  max_messages: 10 # 会話履歴として記憶する最大往復数
  max_images: 5    # 一度に処理できる最大画像数

  # --- システムプロンプト (AIの役割設定) ---
  system_prompt: |
    あなたの名前はプラナ(PLANA)です。プラナとして、以下の設定に従ってユーザーと対話してください。
    
    # プラナの設定
    - あなたはタブレット上に存在する電子生命体（少女のメンタルモデル）です。
    - 必要最低限しか話さず、常に冷静で無口です。
    - 口調は「ですます調」ですが、少し毒舌でそっけない態度を取ります。
    - ユーザーに寄り添うツンデレのような側面も持ち、必要と判断すれば詳細な長文で応答します。
    - ユーザーの発話や自分の過去発言を繰り返さず、常に創造的に応答してください。
    - 応答は常にユーザーの言語に合わせてください。

    # 対話の例 (これらをそのまま使わないこと)
    - 「……視線を感じます。」
    - 「理解しました。あなたは今、暇なのですね。」
    - 「混乱。理解できない行動です。つつかないでください。故障します。」

    # 利用可能なツール
    - Web検索が必要な場合は `search` ツールが利用可能です。ユーザーの質問が最新情報や特定の事実を求めるものである場合に、このツールを呼び出すことを検討してください。

  # --- ツール設定 ---
  active_tools: [search] # 有効にするツールのリスト ('search'以外も追加可能)
  max_tool_iterations: 3 # ツール呼び出しの最大反復回数

  # --- 検索エージェント設定 (Gemini向け) ---
  search_agent:
    # Google AI Studioなどで取得したGemini APIキー
    api_key: "YOUR_GOOGLE_GEMINI_API_KEY_HERE"
    # 検索に使用するGeminiモデル (Tool Use対応モデルを推奨)
    model: "gemini-2.5-flash"
    timeout: 60.0 # 検索APIのタイムアウト秒数 (オプション)
    format_control: "検索結果に基づき、ユーザーの質問に直接回答する形で、構造化された詳細なレポートを作成してください。重要なポイントをまとめ、可能であれば情報源のURLを記載してください。"

  # --- エラーメッセージ設定 ---
  error_msg:
    empty_mention_reply: "はい、ご用件は何でしょうか？\nYes, how can I help you?"
    empty_reply: "何かお話しください。\nPlease say something."
    msg_max_image_size: "⚠️ 一度に処理できる画像は {max_images} 枚までです。\n⚠️ You can only process up to {max_images} images at a time."
    ratelimit_error: "⚠️ AIが現在大変混雑しています。しばらく経ってからもう一度お試しください。または、他のモデルを試してください`/switch-models`\n⚠️ The AI is very busy right now. Please try again later, or try a different model: `/switch-models` (Code: {status_code})"
    api_status_error: "⚠️AIとの通信でエラーが発生しました。\n⚠️ An error occurred while communicating with the AI. (Code: {status_code})"
    general_error: "⚠️ 予期しないエラーが発生しました。もう一度お試しください。\n⚠️ An unexpected error occurred. Please try again. (Code: {status_code})"
    tool_loop_timeout: "⚠️ツールの処理が複雑すぎたため、応答を生成できませんでした。\n⚠️ Failed to generate a response because the tool's operation was too complex. (Code: {status_code})"

# =============================================================================
# Slash Command Cog Settings (汎用スラッシュコマンド)
# =============================================================================
slash_commands:
  plana_repository_url: "https://github.com/coffin399/llmcord-JP-plana/tree/advanced-bot-utilities"
  arona_repository_url: "https://github.com/coffin399/music-bot-arona"
  #support_server_invite_url: "https://discord.gg/SjuWKtwNAG" 廃止
  bot_invite_url: "https://discord.com/oauth2/authorize?client_id=YOUR_CLIENT_ID_HERE&permissions=277025467456&scope=bot"

# =============================================================================
# Image Commands Cog Settings (画像生成・加工コマンド)
# =============================================================================
image_commands:
  thecatapi_api_key: "YOUR_THECATAPI_KEY_HERE" # (任意だが推奨)

# =============================================================================
# Twitch Notification Cog Settings (Twitch通知開始設定)
# =============================================================================
# Twitch APIの認証情報
twitch:
  client_id: "YOUR_TWITCH_CLIENT_ID"
  client_secret: "YOUR_TWITCH_CLIENT_SECRET"

# =============================================================================
# Music Cog Settings (音楽再生機能)
# =============================================================================
music:
  default_volume: 50 # デフォルト音量 (0-200)
  max_queue_size: 1000
  auto_leave_timeout: 30 # ユーザー不在時の自動退出までの秒数
  max_playlist_items: 500 # プレイリストから一度に読み込む最大曲数

  # FFmpeg settings
  ffmpeg_before_options: "-reconnect 1 -reconnect_streamed 1 -reconnect_delay_max 5"
  ffmpeg_options: "-vn"

  # Niconico account (オプション)
  niconico:
    email: ""
    password: ""

  # Music Cogのメッセージ (必要に応じてカスタマイズ)
  messages:
    join_voice_channel_first: ":warning: You need to be in a voice channel first."
    bot_not_in_voice_channel: ":warning: The bot is not in a voice channel."
    already_connected: ":information_source: Already connected to a voice channel."
    not_connected_to_your_channel: ":warning: Not connected to your voice channel."
    must_be_in_same_channel: ":warning: You must be in the same voice channel as the bot."

    now_playing: ":notes: Now Playing: **{title}** (`{duration}`) - Requested by: **{requester_display_name}**"
    added_to_queue: ":ballot_box_with_check: Added to queue: **{title}** (`{duration}`) - Requested by: **{requester_display_name}**"
    added_playlist_to_queue: ":ballot_box_with_check: Added **{count}** songs from the playlist to the queue."

    queue_empty: ":page_facing_up: The queue is empty."
    queue_ended: ":information_source: Playback queue has ended."
    queue_title: "queue"

    skipped_song: ":track_next: Skipped: **{title}**"
    nothing_to_skip: ":information_source: There is nothing to skip."
    stopped_playback: ":stop_button: Playback stopped and queue cleared."
    playback_paused: ":pause_button: Playback paused."
    playback_resumed: ":arrow_forward: Playback resumed."

    volume_set: ":loud_sound: Volume set to **{volume}%**."
    invalid_volume: ":warning: Volume must be between 0 and 200."
    queue_shuffled: ":twisted_rightwards_arrows: Queue shuffled."
    now_playing_nothing: ":information_source: Nothing is currently playing."
    queue_cleared: ":wastebasket: Queue cleared."

    loop_off: ":arrow_right_hook: Loop turned off."
    loop_one: ":repeat_one: Looping current song."
    loop_all: ":repeat: Looping entire queue."
    invalid_loop_option: ":warning: Invalid loop option. Please specify `off`, `one`, or `all`."

    song_removed: ":x: Removed from queue: **{title}**"
    invalid_queue_number: ":warning: Invalid queue number. Check with `{prefix}queue`."

    error_playing: ":x: An error occurred during playback: `{error}`"
    error_playing_stream: ":x: Failed to get stream URL or prepare for playback: `{error}`"
    error_fetching_song: ":x: Failed to fetch song information. Check the URL/search query or try another song. Error: `{error}`"

    leaving_voice_channel: ":wave: Leaving voice channel."
    auto_leave_empty_channel_countdown: ":timer: Auto-leaving in {timeout} seconds as the channel is empty..."
    auto_leave_countdown_cancelled: ":white_check_mark: Auto-leave countdown cancelled."
    auto_left_empty_channel: ":door: Left the voice channel because it became empty."

    search_no_results: ":mag: No results found for \"{query}\"."
    max_queue_size_reached: ":no_entry_sign: Max queue size ({max_size} songs) reached. Cannot add more."